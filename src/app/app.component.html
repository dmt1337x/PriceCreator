<div class="bg-black text-white min-vh-100">
  <div class="d-flex justify-content-center w-100 pt-5">
    <form [formGroup]="priceForm">
      <input
        type="number"
        formControlName="price"
        placeholder="Cena $"
        class="form-control mb-2"
      />
      <input
        type="number"
        formControlName="shipping"
        placeholder="Wysyłka $"
        class="form-control"
      />
    </form>
    <button (click)="calculate(priceForm)" class="btn btn-success ms-3">
      Przelicz
    </button>
  </div>

  <div class="d-flex justify-content-center w-100 mt-5">
    <h1>
      {{ ceilPriceInPLN() }}0
      <img src="./assets/arrow.jpg" class="arrow mx-3" />
      {{ showFinalPrice() }}0
    </h1>
  </div>

  <div class="mt-5">
    <div class="text-center">
      <button (click)="showSetting()" class="mt-5 btn btn-primary">
        USTAWIENIA
      </button>
    </div>

    <div class="d-flex justify-content-center w-100 mt-3">
      <div *ngIf="isShowSettings">
        <div class="d-flex justify-content-between">
          Marża: {{ getMarkUp() }}
          <span class="ms-5 mb-2 text-danger" (click)="showMarkUpSettings()"
            >Zmień</span
          >
          <br />
        </div>
        <div class="d-flex justify-content-between">
          Rabat: {{ getDiscount() }}
          <span
            class="ms-5 mb-2 text-danger me-3"
            (click)="showDiscountSettings()"
            >Zmień</span
          >
          <br />
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-center">
      <div
        *ngIf="isDiscountSettings"
        class="d-flex justify-content-center w-100 mt-2"
      >
        <button
          *ngFor="let discount of discount$ | async"
          (click)="setDiscount(discount.value)"
          class="me-2 btn btn-primary"
        >
          {{ discount.name }}
        </button>
      </div>

      <div
        *ngIf="isMarkUpSettings"
        class="d-flex justify-content-center w-100 mt-2"
      >
        <button
          *ngFor="let markUp of markUp$ | async"
          (click)="setMarkUp(markUp)"
          class="me-2 btn btn-primary"
        >
          {{ markUp }}x
        </button>
      </div>
    </div>
  </div>
</div>
